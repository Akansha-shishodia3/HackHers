{% extends "base.html" %}
{% load static %}
{% block body %}
<style>
  .prt{
        background:linear-gradient(#036a905b,rgba(255, 255, 255, 0.831),#036b90);
    }
</style>
<div class="container my-5 prt">
  <div class="row justify-content-center">
    <div class="col-lg-8 col-md-10">
      <div class="card shadow-lg border-0 rounded-3">
        <div class="card-header text-white text-center p-4" style="background-color: #036b90;">
          <h3 class="mb-0"><i class="fa-solid fa-user-plus me-2"></i>Jobseeker Registration</h3>
        </div>
        <div class="card-body p-4 p-sm-5">
          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endfor %}
          {% endif %}

          <form action="{% url 'jsreg' %}" method="post" name="jsreg">
            {% csrf_token %}

            <div class="form-floating mb-3">
              <input type="text" name="name" id="name" class="form-control" placeholder="Your Name" required/>
              <label for="name">Your Name</label>
            </div>

            <div class="mb-3">
              <label class="form-label d-block">Gender</label>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="gender" id="genderMale" value="Male" required>
                <label class="form-check-label" for="genderMale">Male</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="gender" id="genderFemale" value="Female">
                <label class="form-check-label" for="genderFemale">Female</label>
              </div>
            </div>

            <div class="form-floating mb-3">
              <textarea name="address" id="address" class="form-control" placeholder="Your Address" style="height: 100px"></textarea>
              <label for="address">Address</label>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-floating mb-3">
                  <input type="tel" name="contactno" id="contactno" class="form-control" placeholder="Contact No" required/>
                  <label for="contactno">Contact No</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-floating mb-3">
                  <input type="date" name="dob" id="dob" class="form-control" placeholder="Date of Birth" required/>
                  <label for="dob">Date of Birth</label>
                </div>
              </div>
            </div>

            <div class="form-floating mb-3">
              <input type="email" name="emailaddress" id="emailaddress" class="form-control" placeholder="Email Address" required/>
              <label for="emailaddress">Email Address</label>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-floating mb-3">
                  <select name="qualification" id="qualification" class="form-select" required>
                    <option value="" disabled selected>Select Qualification</option>
                    <option>Diploma</option>
                    <option>B.Tech.</option>
                    <option>B.C.A</option>
                    <option>M.Tech</option>
                    <option>M.C.A</option>
                    <option>M.B.A</option>
                  </select>
                  <label for="qualification">Qualification</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-floating mb-3">
                  <select name="experience" id="experience" class="form-select" required>
                    <option value="" disabled selected>Select Experience</option>
                    <option>0 Years</option>
                    <option>1 Year</option>
                    <option>2 Years</option>
                    <option>3 Years</option>
                    <option>4 Years</option>
                    <option>5 Years</option>
                    <option>More than 5 Years</option>
                  </select>
                  <label for="experience">Experience</label>
                </div>
              </div>
            </div>

            <div class="form-floating mb-3">
              <textarea name="keyskills" id="keyskills" class="form-control" placeholder="e.g., Python, Django, JavaScript" style="height: 100px"></textarea>
              <label for="keyskills">Key Skills (comma-separated)</label>
            </div>

            <div class="form-floating mb-3">
              <input type="password" name="password" id="password" class="form-control" placeholder="Password" required/>
              <label for="password">Password</label>
            </div>
            <div class="form-floating mb-4">
              <input type="password" name="confirmpassword" id="confirmpassword" class="form-control" placeholder="Confirm Password" required/>
              <label for="confirmpassword">Confirm Password</label>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-center">
              <button type="submit" class="btn btn-lg text-white px-5" style="background-color: #036b90;">Register</button>
              <button type="reset" class="btn btn-secondary btn-lg px-5">Reset</button>
            </div>
          </form>
        </div>
        <div class="card-footer text-center py-3 bg-light">
          <div class="small">Already have an account? <a href="{% url 'login' %}">Login here</a></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const form = document.querySelector('form[name="jsreg"]');
  form.addEventListener('submit', function(event) {
    const password = form.querySelector('input[name="password"]');
    const confirmPassword = form.querySelector('input[name="confirmpassword"]');
    if (password.value !== confirmPassword.value) {
      alert("Passwords do not match. Please try again.");
      confirmPassword.focus();
      event.preventDefault(); // Stop form submission
    }
  });
</script>

{% endblock body %}